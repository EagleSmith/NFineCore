<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
          "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <title>Ueditor在jquery validation下的验证</title>
    <script src="~/lib/jquery/1.12.4/jquery.min.js"></script>
    <script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.10.0/jquery.validate.min.js"></script>

    <script src="~/lib/ueditor/ueditor.config.js"></script>
    <script src="~/lib/ueditor/ueditor.all.min.js"></script>
    @*<script type="text/javascript" charset="utf-8" src="../../ueditor/ueditor.config.js"></script>
    <script type="text/javascript" charset="utf-8" src="../../ueditor/ueditor.all.js"></script>*@
    <script>
        $(function () {
            UE.getEditor('content', { serverUrl: '/server/ueditor/controller.php' });

            var validator = $("#myform").submit(function () {
                UE.getEditor('content').sync();
            }).validate({
                ignore: "",
                rules: {
                    title: "required",
                    content: "required"
                },
                errorPlacement: function (label, element) {
                    //$('.edui-editor').css('border', '1px solid red');
                    //label.insertAfter(element.is("textarea") ? element.next() : element);
                    if (element.is("textarea")) {
                        label.insertAfter(element.next())
                    }
                    else {
                        label.insertAfter(element)
                    }
                }
            });
            validator.focusInvalid = function () {
                if (this.settings.focusInvalid) {
                    try {
                        var toFocus = $(this.findLastActive() || this.errorList.length && this.errorList[0].element || []);
                        if (toFocus.is("textarea")) {
                            UE.getEditor('content').focus()
                        } else {
                            toFocus.filter(":visible").focus();
                        }
                    } catch (e) {
                    }
                }
            }

            $('#btn1').bind('click', function () {
                alert($("#myform").valid());
                if (!$("#myform").valid()) {
                    return;
                }
            })
        })
    </script>

</head>
<body>


    <form id="myform" action="">
        <h3>Ueditor在jquery validation下的验证</h3>

        <label>其他内容</label>
        <input name="title" />

        <br />

        <label>编辑器</label>
        <textarea id="content" name="content" rows="15" cols="80" style="width: 80%"></textarea>
        <br />
        <input type="submit" name="save" value="Submit" />
    </form>
    <input type="button" id="btn1" value="验证" />
</body>
</html>